<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì í˜ì´ì§€ - ì´ì§€ìŠ¤í”¼í¬ ì˜ì–´íšŒí™”</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
        }

        /* ë¡œê·¸ì¸ í™”ë©´ */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a3a5c 0%, #2563eb 100%);
        }

        .login-box {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 400px;
        }

        .login-box h1 {
            text-align: center;
            color: #1a3a5c;
            margin-bottom: 30px;
            font-size: 24px;
        }

        .login-box input {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
        }

        .login-box input:focus {
            outline: none;
            border-color: #2563eb;
        }

        .login-box button {
            width: 100%;
            padding: 15px;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }

        .login-box button:hover {
            background: #1a3a5c;
        }

        .login-error {
            color: #e74c3c;
            text-align: center;
            margin-bottom: 15px;
            display: none;
        }

        /* ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ */
        .admin-container {
            display: none;
        }

        .admin-header {
            background: #1a3a5c;
            color: white;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-header h1 {
            font-size: 20px;
        }

        .logout-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .admin-content {
            padding: 30px 40px;
        }

        /* íƒ­ ë©”ë‰´ */
        .tab-menu {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tab-btn {
            padding: 12px 24px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: #2563eb;
            color: white;
            border-color: #2563eb;
        }

        .tab-btn:hover:not(.active) {
            border-color: #2563eb;
            color: #2563eb;
        }

        /* íƒ­ ì½˜í…ì¸  */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* ìƒë‹´ ëª©ë¡ í…Œì´ë¸” */
        .table-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            overflow-x: auto;
        }

        .refresh-btn {
            margin-bottom: 15px;
            padding: 10px 20px;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }

        .refresh-btn:hover {
            background: #059669;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #1a3a5c;
        }

        tr:hover {
            background: #f8f9fa;
        }

        /* í™ˆí˜ì´ì§€ ìˆ˜ì • í¼ */
        .edit-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        }

        .edit-section h3 {
            color: #1a3a5c;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }

        .form-group input[type="text"],
        .form-group input[type="url"],
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #2563eb;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* ì´ë¯¸ì§€ ì—…ë¡œë“œ ì˜ì—­ */
        .image-upload-area {
            border: 2px dashed #d0d0d0;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #fafafa;
        }

        .image-upload-area:hover {
            border-color: #2563eb;
            background: #f0f7ff;
        }

        .image-upload-area.dragover {
            border-color: #2563eb;
            background: #e8f0fe;
        }

        .image-upload-area input[type="file"] {
            display: none;
        }

        .image-upload-area p {
            color: #666;
            margin-bottom: 10px;
        }

        .image-upload-area .upload-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .image-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .image-preview-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .image-preview-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .image-preview-item .delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 25px;
            height: 25px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-preview-item .delete-btn:hover {
            background: #c0392b;
        }

        .current-images {
            margin-top: 15px;
        }

        .current-images h4 {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        .save-btn {
            padding: 12px 30px;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }

        .save-btn:hover {
            background: #1a3a5c;
        }

        .save-message {
            margin-top: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            display: none;
        }

        .save-message.success {
            background: #d4edda;
            color: #155724;
            display: block;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .info-box {
            background: #e8f4fd;
            border-left: 4px solid #2563eb;
            padding: 15px 20px;
            border-radius: 0 10px 10px 0;
            margin-top: 15px;
        }

        .info-box p {
            color: #1a3a5c;
            font-size: 14px;
            line-height: 1.6;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .admin-header {
                padding: 15px 20px;
                flex-direction: column;
                gap: 10px;
            }

            .admin-content {
                padding: 20px;
            }

            .tab-menu {
                flex-wrap: wrap;
            }

            .tab-btn {
                flex: 1;
                min-width: 120px;
                text-align: center;
            }

            .image-preview-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- ë¡œê·¸ì¸ í™”ë©´ -->
    <div class="login-container" id="loginContainer">
        <div class="login-box">
            <h1>ğŸ” ê´€ë¦¬ì ë¡œê·¸ì¸</h1>
            <p class="login-error" id="loginError">ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
            <input type="text" id="adminId" placeholder="ì•„ì´ë””" autocomplete="off">
            <input type="password" id="adminPw" placeholder="ë¹„ë°€ë²ˆí˜¸">
            <button onclick="login()">ë¡œê·¸ì¸</button>
        </div>
    </div>

    <!-- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ -->
    <div class="admin-container" id="adminContainer">
        <header class="admin-header">
            <h1>ğŸ“Š ì´ì§€ìŠ¤í”¼í¬ ì˜ì–´íšŒí™” ê´€ë¦¬ì</h1>
            <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
        </header>

        <div class="admin-content">
            <!-- íƒ­ ë©”ë‰´ -->
            <div class="tab-menu">
                <button class="tab-btn active" onclick="showTab('consultations')">ğŸ“‹ ìƒë‹´ ì‹ ì²­ ëª©ë¡</button>
                <button class="tab-btn" onclick="showTab('edit')">âœï¸ í™ˆí˜ì´ì§€ ìˆ˜ì •</button>
                <button class="tab-btn" onclick="showTab('images')">ğŸ–¼ï¸ ì´ë¯¸ì§€ ê´€ë¦¬</button>
            </div>

            <!-- ìƒë‹´ ëª©ë¡ íƒ­ -->
            <div class="tab-content active" id="consultations">
                <div class="table-container">
                    <button class="refresh-btn" onclick="loadConsultations()">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
                    <div id="consultationList">
                        <p class="loading">ìƒë‹´ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>
            </div>

            <!-- í™ˆí˜ì´ì§€ ìˆ˜ì • íƒ­ -->
            <div class="tab-content" id="edit">
                <div class="edit-section">
                    <h3>ğŸ  íˆì–´ë¡œ ì„¹ì…˜</h3>
                    <div class="form-group">
                        <label>ë©”ì¸ íƒ€ì´í‹€</label>
                        <input type="text" id="heroTitle" value="ì•„ì‰¬ìš´ ì˜ì–´ì—ì„œ ì•„, ì‰¬ìš´ ì˜ì–´ë¡œ">
                    </div>
                    <div class="form-group">
                        <label>ì„œë¸Œ íƒ€ì´í‹€</label>
                        <textarea id="heroSubtitle">ì²´ê³„ì ì¸ ì»¤ë¦¬í˜ëŸ¼ê³¼ ì›ì–´ë¯¼ ê°•ì‚¬ì§„ì´ í•¨ê»˜í•˜ëŠ” ë§ì¶¤í˜• ì˜ì–´ êµìœ¡</textarea>
                    </div>
                </div>

                <div class="edit-section">
                    <h3>ğŸ“ ì—°ë½ì²˜ ì •ë³´</h3>
                    <div class="form-group">
                        <label>ì „í™”ë²ˆí˜¸</label>
                        <input type="text" id="contactPhone" value="010-7698-5675">
                    </div>
                    <div class="form-group">
                        <label>ì¹´ì¹´ì˜¤í†¡ ì±„ë„ ë§í¬</label>
                        <input type="url" id="kakaoLink" value="http://pf.kakao.com/_NmPfn/chat">
                    </div>
                </div>

                <button class="save-btn" onclick="saveChanges()">ğŸ’¾ ë³€ê²½ì‚¬í•­ ì €ì¥</button>
                <div class="save-message" id="saveMessage">âœ… ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!</div>

                <div class="info-box">
                    <p>ğŸ’¡ <strong>ì•ˆë‚´:</strong> ì €ì¥ëœ ë‚´ìš©ì€ ë¸Œë¼ìš°ì €ì— ì„ì‹œ ì €ì¥ë©ë‹ˆë‹¤. ì‹¤ì œ í™ˆí˜ì´ì§€ì— ë°˜ì˜í•˜ë ¤ë©´ HTML íŒŒì¼ì„ ì§ì ‘ ìˆ˜ì •í•˜ê±°ë‚˜ ê°œë°œìì—ê²Œ ìš”ì²­í•´ì£¼ì„¸ìš”.</p>
                </div>
            </div>

            <!-- ì´ë¯¸ì§€ ê´€ë¦¬ íƒ­ -->
            <div class="tab-content" id="images">
                <div class="edit-section">
                    <h3>ğŸ–¼ï¸ ë¡œê³  ì´ë¯¸ì§€</h3>
                    <div class="image-upload-area" onclick="document.getElementById('logoUpload').click()" id="logoDropZone">
                        <input type="file" id="logoUpload" accept="image/*" onchange="previewImage(this, 'logoPreview')">
                        <div class="upload-icon">ğŸ“¤</div>
                        <p>í´ë¦­í•˜ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ì„¸ìš”</p>
                        <p style="font-size: 12px; color: #999;">ê¶Œì¥: ê°€ë¡œí˜• PNG íŒŒì¼</p>
                    </div>
                    <div id="logoPreview" class="image-preview-grid"></div>
                    <div class="current-images">
                        <h4>í˜„ì¬ ë¡œê³ :</h4>
                        <img src="logo.png" alt="í˜„ì¬ ë¡œê³ " style="max-height: 60px; border-radius: 5px;">
                    </div>
                </div>

                <div class="edit-section">
                    <h3>â­ ìˆ˜ê°•ìƒ í›„ê¸° ì´ë¯¸ì§€</h3>
                    <div class="image-upload-area" onclick="document.getElementById('reviewUpload').click()" id="reviewDropZone">
                        <input type="file" id="reviewUpload" accept="image/*" multiple onchange="previewImages(this, 'reviewPreview')">
                        <div class="upload-icon">ğŸ“¤</div>
                        <p>í´ë¦­í•˜ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ì„¸ìš”</p>
                        <p style="font-size: 12px; color: #999;">ì—¬ëŸ¬ ì¥ ì„ íƒ ê°€ëŠ¥</p>
                    </div>
                    <div id="reviewPreview" class="image-preview-grid"></div>
                    <div class="current-images">
                        <h4>í˜„ì¬ í›„ê¸° ì´ë¯¸ì§€ (4ì¥):</h4>
                        <div class="image-preview-grid">
                            <div class="image-preview-item">
                                <img src="KakaoTalk_Photo_2025-05-29-15-29-12.jpeg" alt="í›„ê¸°1">
                            </div>
                            <div class="image-preview-item">
                                <img src="KakaoTalk_Photo_2025-05-29-15-29-28.jpeg" alt="í›„ê¸°2">
                            </div>
                            <div class="image-preview-item">
                                <img src="KakaoTalk_Photo_2025-05-29-15-29-51.jpeg" alt="í›„ê¸°3">
                            </div>
                            <div class="image-preview-item">
                                <img src="ì¹´í†¡ í›„ê¸°.JPG" alt="í›„ê¸°4">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="edit-section">
                    <h3>ğŸ« í•™ì› ì†Œê°œ ì´ë¯¸ì§€</h3>
                    <div class="image-upload-area" onclick="document.getElementById('aboutUpload').click()" id="aboutDropZone">
                        <input type="file" id="aboutUpload" accept="image/*" multiple onchange="previewImages(this, 'aboutPreview')">
                        <div class="upload-icon">ğŸ“¤</div>
                        <p>í´ë¦­í•˜ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ì„¸ìš”</p>
                        <p style="font-size: 12px; color: #999;">ì—¬ëŸ¬ ì¥ ì„ íƒ ê°€ëŠ¥ (ìŠ¬ë¼ì´ë”ìš©)</p>
                    </div>
                    <div id="aboutPreview" class="image-preview-grid"></div>
                </div>

                <button class="save-btn" onclick="saveImages()">ğŸ’¾ ì´ë¯¸ì§€ ë³€ê²½ì‚¬í•­ ì €ì¥</button>
                <div class="save-message" id="imageSaveMessage">âœ… ì´ë¯¸ì§€ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!</div>

                <div class="info-box">
                    <p>ğŸ’¡ <strong>ì•ˆë‚´:</strong> ì´ë¯¸ì§€ ì—…ë¡œë“œ í›„, ì‹¤ì œ ì„œë²„ì— ë°˜ì˜í•˜ë ¤ë©´ íŒŒì¼ì„ í™ˆí˜ì´ì§€ í´ë”ì— ì§ì ‘ ë³µì‚¬í•´ì•¼ í•©ë‹ˆë‹¤.<br>
                    íŒŒì¼ ê²½ë¡œ: <code>/Users/mac/í´ë¡œë“œì½”ë“œ/</code></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ê´€ë¦¬ì ê³„ì • ì„¤ì •
        const ADMIN_ID = 'admin';
        const ADMIN_PW = 'ezspeak1234';

        // Google Apps Script URL
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbx5nP_Q7hM6oWC8KEw6NWQ4Yao4uTdFIDNMjcXRZPuV0dc_r7FRvKdlTSEE4CVdXXHl/exec';

        // ë¡œê·¸ì¸ ì²´í¬
        function checkLogin() {
            const isLoggedIn = sessionStorage.getItem('adminLoggedIn');
            if (isLoggedIn === 'true') {
                document.getElementById('loginContainer').style.display = 'none';
                document.getElementById('adminContainer').style.display = 'block';
                loadConsultations();
            }
        }

        // ë¡œê·¸ì¸
        function login() {
            const id = document.getElementById('adminId').value;
            const pw = document.getElementById('adminPw').value;

            if (id === ADMIN_ID && pw === ADMIN_PW) {
                sessionStorage.setItem('adminLoggedIn', 'true');
                document.getElementById('loginContainer').style.display = 'none';
                document.getElementById('adminContainer').style.display = 'block';
                document.getElementById('loginError').style.display = 'none';
                loadConsultations();
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
        }

        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            sessionStorage.removeItem('adminLoggedIn');
            document.getElementById('adminContainer').style.display = 'none';
            document.getElementById('loginContainer').style.display = 'flex';
            document.getElementById('adminId').value = '';
            document.getElementById('adminPw').value = '';
        }

        // ì—”í„°í‚¤ë¡œ ë¡œê·¸ì¸
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.getElementById('loginContainer').style.display !== 'none') {
                login();
            }
        });

        // íƒ­ ì „í™˜
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // ìƒë‹´ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
        async function loadConsultations() {
            const container = document.getElementById('consultationList');
            container.innerHTML = '<p class="loading">ìƒë‹´ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>';

            try {
                const response = await fetch(SCRIPT_URL + '?action=getAll');
                const data = await response.json();

                if (data && data.length > 0) {
                    let html = `
                        <table>
                            <thead>
                                <tr>
                                    <th>ì œì¶œì¼ì‹œ</th>
                                    <th>ì´ë¦„</th>
                                    <th>ì—°ë½ì²˜</th>
                                    <th>ì„±ë³„</th>
                                    <th>ì˜ì–´ì‹¤ë ¥</th>
                                    <th>í•™ìŠµì´ìœ </th>
                                    <th>ìœ ì…ê²½ë¡œ</th>
                                    <th>ì—°ë½ìˆ˜ë‹¨</th>
                                </tr>
                            </thead>
                            <tbody>
                    `;

                    data.forEach(row => {
                        html += `
                            <tr>
                                <td>${row[0] || '-'}</td>
                                <td>${row[1] || '-'}</td>
                                <td>${row[2] || '-'}</td>
                                <td>${row[3] || '-'}</td>
                                <td>${row[5] || '-'}</td>
                                <td>${row[6] || '-'}</td>
                                <td>${row[7] || '-'}</td>
                                <td>${row[8] || '-'}</td>
                            </tr>
                        `;
                    });

                    html += '</tbody></table>';
                    container.innerHTML = html;
                } else {
                    container.innerHTML = '<p class="loading">ë“±ë¡ëœ ìƒë‹´ ì‹ ì²­ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                }
            } catch (error) {
                console.error('Error:', error);
                container.innerHTML = `
                    <p class="loading">
                        ìƒë‹´ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br><br>
                        <strong>ğŸ’¡ Google ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ì„œ ì§ì ‘ í™•ì¸í•˜ì„¸ìš”:</strong><br>
                        ìŠ¤í”„ë ˆë“œì‹œíŠ¸ë¥¼ ì—´ì–´ ìƒë‹´ ì‹ ì²­ ë‚´ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                `;
            }
        }

        // ë‹¨ì¼ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°
        function previewImage(input, previewId) {
            const preview = document.getElementById(previewId);
            preview.innerHTML = '';

            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML = `
                        <div class="image-preview-item">
                            <img src="${e.target.result}" alt="ë¯¸ë¦¬ë³´ê¸°">
                            <button class="delete-btn" onclick="clearPreview('${previewId}', '${input.id}')">Ã—</button>
                        </div>
                    `;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // ë‹¤ì¤‘ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°
        function previewImages(input, previewId) {
            const preview = document.getElementById(previewId);
            preview.innerHTML = '';

            if (input.files) {
                Array.from(input.files).forEach((file, index) => {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const div = document.createElement('div');
                        div.className = 'image-preview-item';
                        div.innerHTML = `
                            <img src="${e.target.result}" alt="ë¯¸ë¦¬ë³´ê¸° ${index + 1}">
                            <button class="delete-btn" onclick="this.parentElement.remove()">Ã—</button>
                        `;
                        preview.appendChild(div);
                    };
                    reader.readAsDataURL(file);
                });
            }
        }

        // ë¯¸ë¦¬ë³´ê¸° ì‚­ì œ
        function clearPreview(previewId, inputId) {
            document.getElementById(previewId).innerHTML = '';
            document.getElementById(inputId).value = '';
        }

        // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì„¤ì •
        ['logoDropZone', 'reviewDropZone', 'aboutDropZone'].forEach(zoneId => {
            const zone = document.getElementById(zoneId);
            if (!zone) return;

            zone.addEventListener('dragover', (e) => {
                e.preventDefault();
                zone.classList.add('dragover');
            });

            zone.addEventListener('dragleave', () => {
                zone.classList.remove('dragover');
            });

            zone.addEventListener('drop', (e) => {
                e.preventDefault();
                zone.classList.remove('dragover');

                const input = zone.querySelector('input[type="file"]');
                const previewId = input.id.replace('Upload', 'Preview');

                if (e.dataTransfer.files.length > 0) {
                    input.files = e.dataTransfer.files;
                    if (input.multiple) {
                        previewImages(input, previewId);
                    } else {
                        previewImage(input, previewId);
                    }
                }
            });
        });

        // ë³€ê²½ì‚¬í•­ ì €ì¥
        function saveChanges() {
            const data = {
                heroTitle: document.getElementById('heroTitle').value,
                heroSubtitle: document.getElementById('heroSubtitle').value,
                contactPhone: document.getElementById('contactPhone').value,
                kakaoLink: document.getElementById('kakaoLink').value
            };

            localStorage.setItem('adminSettings', JSON.stringify(data));

            const message = document.getElementById('saveMessage');
            message.classList.add('success');
            setTimeout(() => {
                message.classList.remove('success');
            }, 3000);
        }

        // ì´ë¯¸ì§€ ì €ì¥ (ë¡œì»¬)
        function saveImages() {
            const message = document.getElementById('imageSaveMessage');
            message.classList.add('success');

            // ì‹¤ì œë¡œ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ë ¤ë©´ ì„œë²„ê°€ í•„ìš”
            alert('ì´ë¯¸ì§€ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì‹¤ì œ ë°˜ì˜ì„ ìœ„í•´ì„œëŠ”:\n1. ì„ íƒí•œ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ\n2. í™ˆí˜ì´ì§€ í´ë”ì— ë³µì‚¬\n3. íŒŒì¼ëª…ì„ ê¸°ì¡´ íŒŒì¼ëª…ê³¼ ë™ì¼í•˜ê²Œ ë³€ê²½\n\në˜ëŠ” ê°œë°œìì—ê²Œ ìš”ì²­í•´ì£¼ì„¸ìš”.');

            setTimeout(() => {
                message.classList.remove('success');
            }, 3000);
        }

        // ì €ì¥ëœ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        function loadSettings() {
            const saved = localStorage.getItem('adminSettings');
            if (saved) {
                const data = JSON.parse(saved);
                if (data.heroTitle) document.getElementById('heroTitle').value = data.heroTitle;
                if (data.heroSubtitle) document.getElementById('heroSubtitle').value = data.heroSubtitle;
                if (data.contactPhone) document.getElementById('contactPhone').value = data.contactPhone;
                if (data.kakaoLink) document.getElementById('kakaoLink').value = data.kakaoLink;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        checkLogin();
        loadSettings();
    </script>
</body>
</html>
